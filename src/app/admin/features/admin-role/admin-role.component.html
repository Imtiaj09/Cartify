<div class="container-fluid p-4">
  <div class="row g-4">
    <!-- Left Column -->
    <div class="col-md-4">
      <!-- Profile Summary Card -->
      <div class="card border-0 shadow-sm mb-4">
        <div class="card-body text-center p-4">
          <div class="d-flex justify-content-between align-items-center mb-3">
            <h6 class="fw-bold mb-0">Profile</h6>
            <div class="d-flex gap-2">
              <button class="btn btn-link text-muted p-0"><i class="bi bi-pencil-square"></i></button>
              <button class="btn btn-link text-muted p-0"><i class="bi bi-share"></i></button>
            </div>
          </div>

          <div class="position-relative d-inline-block mb-3">
            <img [src]="profileImage" class="rounded-circle" width="100" height="100" alt="Profile" style="object-fit: cover;">
            <span class="position-absolute bottom-0 end-0 bg-white rounded-circle p-1 shadow-sm cursor-pointer" (click)="triggerProfileUpload()">
              <i class="bi bi-pencil-square text-success"></i>
            </span>
          </div>
          <h5 class="fw-bold mb-1">Wade Warren</h5>
          <div class="d-flex align-items-center justify-content-center text-muted mb-4">
            <small>wade.warren@example.com</small>
            <button class="btn btn-link text-muted p-0 ms-2"><i class="bi bi-files"></i></button>
          </div>

          <div class="text-center">
            <h6 class="fw-bold mb-3">Linked with Social media</h6>
            <div class="d-flex justify-content-center gap-3 mb-3">
              <a [href]="activeSocialLinks.google || 'javascript:void(0)'" class="social-icon" [class.text-success]="activeSocialLinks.google" target="_blank"><i class="bi bi-google"></i></a>
              <a [href]="activeSocialLinks.linkedin || 'javascript:void(0)'" class="social-icon" [class.text-success]="activeSocialLinks.linkedin" target="_blank"><i class="bi bi-linkedin"></i></a>
              <a [href]="activeSocialLinks.facebook || 'javascript:void(0)'" class="social-icon" [class.text-success]="activeSocialLinks.facebook" target="_blank"><i class="bi bi-facebook"></i></a>
              <a [href]="activeSocialLinks.twitter || 'javascript:void(0)'" class="social-icon" [class.text-success]="activeSocialLinks.twitter" target="_blank"><i class="bi bi-twitter-x"></i></a>
            </div>
            <button class="btn btn-outline-success rounded-pill px-4 btn-sm" (click)="openSocialModal()">
              <i class="bi bi-plus-lg me-1"></i> Social media
            </button>
          </div>
        </div>
      </div>

      <!-- Change Password Card -->
      <div class="card border-0 shadow-sm">
        <div class="card-body p-4">
          <div class="d-flex justify-content-between align-items-center mb-4">
            <h6 class="fw-bold mb-0">Change Password</h6>
            <a href="#" class="text-success text-decoration-none small">Need help ?</a>
          </div>

          <div class="mb-3">
            <label class="form-label text-muted small fw-bold">Current Password</label>
            <div class="input-group">
              <input [type]="showCurrentPassword ? 'text' : 'password'" class="form-control bg-light border-end-0" value="password123">
              <span class="input-group-text bg-light border-start-0 text-muted cursor-pointer" (click)="togglePasswordVisibility('current')">
                <i class="bi" [ngClass]="showCurrentPassword ? 'bi-eye' : 'bi-eye-slash'"></i>
              </span>
            </div>
          </div>

          <div class="mb-3">
            <label class="form-label text-muted small fw-bold">New Password</label>
            <div class="input-group">
              <input [type]="showNewPassword ? 'text' : 'password'" class="form-control bg-light border-end-0" placeholder="Enter new password">
              <span class="input-group-text bg-light border-start-0 text-muted cursor-pointer" (click)="togglePasswordVisibility('new')">
                <i class="bi" [ngClass]="showNewPassword ? 'bi-eye' : 'bi-eye-slash'"></i>
              </span>
            </div>
          </div>

          <div class="mb-3">
            <label class="form-label text-muted small fw-bold">Re-enter Password</label>
            <div class="input-group">
              <input [type]="showConfirmPassword ? 'text' : 'password'" class="form-control bg-light border-end-0" placeholder="Confirm new password">
              <span class="input-group-text bg-light border-start-0 text-muted cursor-pointer" (click)="togglePasswordVisibility('confirm')">
                <i class="bi" [ngClass]="showConfirmPassword ? 'bi-eye' : 'bi-eye-slash'"></i>
              </span>
            </div>
          </div>

          <div class="mb-4">
            <a href="#" class="text-muted small text-decoration-none">Forgot Current Password? <span class="text-success">Click here</span></a>
          </div>

          <button class="btn btn-success w-100">Save Change</button>
        </div>
      </div>
    </div>

    <!-- Right Column -->
    <div class="col-md-8">
      <div class="card border-0 shadow-sm">
        <div class="card-body p-4">
          <div class="d-flex justify-content-between align-items-center mb-4">
            <h5 class="fw-bold mb-0">Profile Update</h5>
            <button class="btn btn-outline-secondary btn-sm px-3">Edit</button>
          </div>

          <div class="d-flex align-items-center gap-3 mb-4 pb-3 border-bottom">
            <img [src]="profileImage" class="rounded-circle" width="60" height="60" alt="Profile" style="object-fit: cover;">
            <button class="btn btn-success btn-sm px-3" (click)="triggerProfileUpload()">Upload New</button>
            <button class="btn btn-outline-secondary btn-sm px-3" (click)="deleteProfileImage()">Delete</button>
            <input type="file" id="profileUploadInput" class="d-none" accept="image/*" (change)="onProfileImageSelected($event)">
          </div>

          <div class="row g-3 mb-3">
            <div class="col-md-6">
              <label class="form-label text-muted small fw-bold">First Name</label>
              <input type="text" class="form-control bg-light" value="Wade">
            </div>
            <div class="col-md-6">
              <label class="form-label text-muted small fw-bold">Last Name</label>
              <input type="text" class="form-control bg-light" value="Warren">
            </div>

            <div class="col-md-6">
              <label class="form-label text-muted small fw-bold">Password</label>
              <div class="input-group">
                <input [type]="showProfilePassword ? 'text' : 'password'" class="form-control bg-light border-end-0" value="password123">
                <span class="input-group-text bg-light border-start-0 text-muted cursor-pointer" (click)="togglePasswordVisibility('profile')">
                  <i class="bi" [ngClass]="showProfilePassword ? 'bi-eye' : 'bi-eye-slash'"></i>
                </span>
              </div>
            </div>
            <div class="col-md-6">
              <label class="form-label text-muted small fw-bold">Phone Number</label>
              <div class="input-group dropdown" [class.show]="isCountryDropdownOpen">
                <button class="btn btn-light border dropdown-toggle d-flex align-items-center gap-2" type="button" (click)="toggleCountryDropdown($event)" [attr.aria-expanded]="isCountryDropdownOpen">
                  <img [src]="selectedCountry.flag" width="20" [alt]="selectedCountry.name"> {{ selectedCountry.code }}
                </button>
                <ul class="dropdown-menu" [class.show]="isCountryDropdownOpen" (click)="$event.stopPropagation()">
                  <li *ngFor="let country of countries">
                    <a class="dropdown-item d-flex align-items-center gap-2 cursor-pointer" (click)="selectCountry(country)">
                      <img [src]="country.flag" width="20" [alt]="country.name"> {{ country.code }}
                    </a>
                  </li>
                </ul>
                <input type="text" class="form-control bg-light" placeholder="Enter phone number">
              </div>
            </div>

            <div class="col-md-6">
              <label class="form-label text-muted small fw-bold">E-mail</label>
              <input type="email" class="form-control bg-light" value="wade.warren@example.com">
            </div>
            <div class="col-md-6">
              <label class="form-label text-muted small fw-bold">Date of Birth</label>
              <div class="input-group">
                <input type="date" class="form-control bg-light" value="1995-06-24">
              </div>
            </div>

            <div class="col-12">
              <label class="form-label text-muted small fw-bold">Location</label>
              <input type="text" class="form-control bg-light" value="2464 Royal Ln. Mesa, New Jersey 45463">
            </div>

            <div class="col-12">
              <label class="form-label text-muted small fw-bold">Credit Card</label>
              <div class="input-group">
                <span class="input-group-text bg-light border-end-0"><i class="bi bi-credit-card-2-front"></i></span>
                <select class="form-select bg-light border-start-0" (change)="onCardTypeChange($event)">
                  <option value="Mastercard">Mastercard</option>
                  <option value="Visa">Visa</option>
                </select>
                <input type="text" class="form-control bg-light border-start-0" [value]="'**** **** **** ' + cardNumber" placeholder="Card Number">
              </div>
            </div>

            <div class="col-12">
              <label class="form-label text-muted small fw-bold">Biography</label>
              <div class="position-relative">
                <textarea class="form-control bg-light" rows="5">I'm a Product Designer based in Melbourne, specializing in User Interface Design and Prototyping. I build clean, appealing, and functional interfaces which comply with the latest web standards.</textarea>
                <div class="position-absolute bottom-0 end-0 p-2 text-muted">
                  <i class="bi bi-type-bold me-2 cursor-pointer"></i>
                  <i class="bi bi-type-italic me-2 cursor-pointer"></i>
                  <i class="bi bi-list-ul cursor-pointer"></i>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Social Media Modal -->
  <div class="modal fade" [class.show]="isSocialModalOpen" [style.display]="isSocialModalOpen ? 'block' : 'none'" tabindex="-1" aria-labelledby="socialModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content border-0 shadow">
        <div class="modal-header border-0">
          <h5 class="modal-title fw-bold" id="socialModalLabel">Add Social Media Links</h5>
          <button type="button" class="btn-close" (click)="closeSocialModal()" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="mb-3">
            <label class="form-label text-muted small fw-bold"><i class="bi bi-google me-2"></i>Google</label>
            <input type="text" class="form-control bg-light" [(ngModel)]="socialLinks.google" placeholder="https://plus.google.com/...">
          </div>
          <div class="mb-3">
            <label class="form-label text-muted small fw-bold"><i class="bi bi-linkedin me-2"></i>LinkedIn</label>
            <input type="text" class="form-control bg-light" [(ngModel)]="socialLinks.linkedin" placeholder="https://linkedin.com/in/...">
          </div>
          <div class="mb-3">
            <label class="form-label text-muted small fw-bold"><i class="bi bi-facebook me-2"></i>Facebook</label>
            <input type="text" class="form-control bg-light" [(ngModel)]="socialLinks.facebook" placeholder="https://facebook.com/...">
          </div>
          <div class="mb-3">
            <label class="form-label text-muted small fw-bold"><i class="bi bi-twitter-x me-2"></i>X (Twitter)</label>
            <input type="text" class="form-control bg-light" [(ngModel)]="socialLinks.twitter" placeholder="https://twitter.com/...">
          </div>
        </div>
        <div class="modal-footer border-0">
          <button type="button" class="btn btn-light text-muted" (click)="closeSocialModal()">Cancel</button>
          <button type="button" class="btn btn-success px-4" (click)="saveSocialLinks()">Save Links</button>
        </div>
      </div>
    </div>
  </div>
  <div class="modal-backdrop fade show" *ngIf="isSocialModalOpen"></div>
</div>
