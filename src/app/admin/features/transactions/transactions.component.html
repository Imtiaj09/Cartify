<div class="container-fluid p-4">

  <!-- 1. Top Section: Metric Cards + Payment Method (Row 1) -->
  <div class="row g-4 mb-4">
    <!-- Left Column: 4 Metric Cards (Grid) -->
    <div class="col-xl-7 col-lg-12">
      <div class="row g-4 h-100">
        <div class="col-md-6" *ngFor="let card of summaryCards">
          <div class="card border-0 shadow-sm h-100">
            <div class="card-body">
              <div class="d-flex justify-content-between align-items-start mb-2">
                <h6 class="text-muted fw-bold mb-0">{{ card.title }}</h6>
                <button class="btn btn-link text-muted p-0"><i class="bi bi-three-dots-vertical"></i></button>
              </div>
              <h3 class="fw-bold mb-3">{{ card.value }}</h3>
              <div class="d-flex align-items-center justify-content-between">
                <div class="d-flex align-items-center">
                  <span class="badge rounded-pill me-2"
                    [ngClass]="card.isPositive ? 'bg-success-soft text-success' : 'bg-danger-soft text-danger'">
                    <i class="bi" [ngClass]="card.isPositive ? 'bi-arrow-up-short' : 'bi-arrow-down-short'"></i>
                    {{ card.change }}
                  </span>
                  <small class="text-muted">Last 7 days</small>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Right Column: Payment Method Card -->
    <div class="col-xl-5 col-lg-12">
      <div class="card border-0 shadow-sm h-100">
        <div class="card-body p-4">
          <div class="d-flex justify-content-between align-items-center mb-4">
            <h5 class="fw-bold mb-0">Payment Method</h5>
            <button class="btn btn-link text-muted p-0"><i class="bi bi-three-dots-vertical"></i></button>
          </div>

          <div class="row align-items-center">
            <!-- Credit Card Visual -->
            <div class="col-12 mb-3">
              <div class="credit-card text-white p-4 rounded-4 shadow position-relative overflow-hidden">
                <div class="d-flex justify-content-between align-items-start mb-4">
                  <span class="fs-5 fw-bold fst-italic">Finaci</span>
                  <i class="bi bi-credit-card-2-front fs-3"></i>
                </div>
                <div class="mb-4">
                  <h4 class="mb-0 letter-spacing-2">**** **** **** 2345</h4>
                </div>
                <div class="d-flex justify-content-between align-items-end">
                  <div>
                    <small class="d-block opacity-75 small-text">Card holder name</small>
                    <span class="fw-semibold">Noman Manzoor</span>
                  </div>
                  <div class="text-end">
                    <small class="d-block opacity-75 small-text">Expiry Date</small>
                    <span class="fw-semibold">02/30</span>
                  </div>
                </div>
                <div class="circle-deco circle-1"></div>
                <div class="circle-deco circle-2"></div>
              </div>
            </div>

            <!-- Card Details -->
            <div class="col-12">
              <div class="row g-3">
                <div class="col-4">
                  <small class="text-muted d-block mb-1">Status</small>
                  <span class="text-success fw-bold"><i class="bi bi-check-circle-fill me-1"></i> Active</span>
                </div>
                <div class="col-4">
                  <small class="text-muted d-block mb-1">Transactions</small>
                  <span class="fw-bold">2,340</span>
                </div>
                <div class="col-4">
                  <small class="text-muted d-block mb-1">Total Revenue</small>
                  <span class="fw-bold">৳35,450.00</span>
                </div>
                <div class="col-12 mt-2">
                  <a href="javascript:void(0)" class="text-success text-decoration-none fw-semibold">
                    View Transactions <i class="bi bi-arrow-right ms-1"></i>
                  </a>
                </div>
              </div>

              <div class="d-flex gap-3 mt-4 pt-2 border-top">
                <button class="btn btn-outline-secondary btn-sm d-flex align-items-center flex-grow-1 justify-content-center">
                  <i class="bi bi-plus-lg me-2"></i> Add Card
                </button>
                <button class="btn btn-outline-danger btn-sm flex-grow-1">Deactivate</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 3. Data Table & Controls (Row 3) -->
  <div class="card border-0 shadow-sm">
    <div class="card-body">
      <!-- Controls Header -->
      <div class="d-flex flex-wrap justify-content-between align-items-center gap-3 mb-4">
        <ul class="nav nav-pills">
          <li class="nav-item">
            <a class="nav-link cursor-pointer" [class.active]="activeFilter === 'All order'" (click)="setFilter('All order')">All order</a>
          </li>
          <li class="nav-item">
            <a class="nav-link cursor-pointer" [class.active]="activeFilter === 'Completed'" (click)="setFilter('Completed')">Completed</a>
          </li>
          <li class="nav-item">
            <a class="nav-link cursor-pointer" [class.active]="activeFilter === 'Pending'" (click)="setFilter('Pending')">Pending</a>
          </li>
          <li class="nav-item">
            <a class="nav-link cursor-pointer" [class.active]="activeFilter === 'Canceled'" (click)="setFilter('Canceled')">Canceled</a>
          </li>
        </ul>

        <div class="d-flex align-items-center gap-2">
          <div class="input-group">
            <span class="input-group-text bg-white border-end-0"><i class="bi bi-search"></i></span>
            <input type="text" class="form-control border-start-0 ps-0" placeholder="Search...">
          </div>
          <button class="btn btn-outline-secondary square-btn"><i class="bi bi-funnel"></i></button>
          <button class="btn btn-outline-secondary square-btn"><i class="bi bi-sort-down"></i></button>
          <button class="btn btn-outline-secondary square-btn"><i class="bi bi-three-dots"></i></button>
        </div>
      </div>

      <!-- Table Structure -->
      <div class="table-responsive">
        <table class="table table-hover align-middle mb-0">
          <thead class="bg-light-green">
            <tr>
              <th class="py-3 ps-4 border-0 text-success">Customer Id</th>
              <th class="py-3 border-0 text-success">Name</th>
              <th class="py-3 border-0 text-success">Date</th>
              <th class="py-3 border-0 text-success">Total</th>
              <th class="py-3 border-0 text-success">Method</th>
              <th class="py-3 border-0 text-success">Status</th>
              <th class="py-3 border-0 text-success text-end pe-4">Action</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of transactions">
              <td class="ps-4 fw-bold text-muted">{{ item.id }}</td>
              <td class="fw-semibold">{{ item.name }}</td>
              <td class="text-muted">{{ item.date }}</td>
              <td class="fw-bold">৳{{ item.total }}</td>
              <td class="text-muted">
                <i class="bi bi-credit-card me-2"></i> {{ item.method }}
              </td>
              <td>
                <span class="d-flex align-items-center fw-semibold"
                  [ngClass]="{
                    'text-success': item.status === 'Complete',
                    'text-warning': item.status === 'Pending',
                    'text-danger': item.status === 'Canceled'
                  }">
                  <span class="dot me-2"
                    [ngClass]="{
                      'bg-success': item.status === 'Complete',
                      'bg-warning': item.status === 'Pending',
                      'bg-danger': item.status === 'Canceled'
                    }"></span>
                  {{ item.status }}
                </span>
              </td>
              <td class="text-end pe-4">
                <a href="javascript:void(0)" class="text-success text-decoration-none small fw-bold">View Details</a>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- 4. Pagination (Bottom) -->
    <div class="card-footer bg-white border-0 py-3">
      <div class="d-flex justify-content-between align-items-center">
        <button class="btn btn-outline-secondary btn-sm"><i class="bi bi-arrow-left"></i> Previous</button>
        <div class="pagination-nums d-flex gap-1">
          <button class="btn btn-success btn-sm">1</button>
          <button class="btn btn-outline-light text-dark btn-sm">2</button>
          <button class="btn btn-outline-light text-dark btn-sm">3</button>
          <span class="px-2 align-self-end">...</span>
          <button class="btn btn-outline-light text-dark btn-sm">10</button>
        </div>
        <button class="btn btn-outline-secondary btn-sm">Next <i class="bi bi-arrow-right"></i></button>
      </div>
    </div>
  </div>
</div>
